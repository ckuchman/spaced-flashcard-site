{"version":3,"sources":["components/landing.js","components/auth-service.js","components/navbar.js","components/helpers.js","components/register.js","components/login.js","components/protected-route.js","components/profile.js","components/card-display.js","App.js","reportWebVitals.js","index.js"],"names":["LandingPage","Container","className","fluid","style","display","flexDirection","justifyContent","marginTop","Card","width","flex","marginLeft","marginRight","Body","Title","Text","Button","variant","currentUserSubject","BehaviorSubject","JSON","parse","localStorage","getItem","authService","login","logout","authHeader","newUser","res","refresh","access","setItem","stringify","next","updateUserData","currentUser","asObservable","value","userData","a","clear","currentUserValue","accessToken","Authorization","NavBar","history","useHistory","useState","setCurrentUser","useLocation","useEffect","subscription","subscribe","user","unsubscribe","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","Link","eventKey","username","onClick","push","fetchCall","payload","fetch","url","method","auth","body","headers","response","status","json","Register","requiredMsg","fields","console","log","alert","email","password","process","REACT_APP_BASE_URL","jwtresponse","Header","fontSize","Subtitle","initialValues","confirmPassword","validationSchema","Yup","shape","required","min","oneOf","onSubmit","handleSubmit","render","errors","touched","htmlFor","name","type","component","Login","error","PrivateRoute","props","authenticated","Date","jwt_decode","exp","then","local","path","exact","to","Profile","CardDisplay","isFlipped","setIsFlipped","handleClick","event","preventDefault","flipDirection","cursor","alignItems","height","App","position","autoClose","hideProgressBar","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","textAlign","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45b8a0d7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Card, Container, Button } from \"react-bootstrap\";\r\n\r\nfunction LandingPage() {\r\n  return (\r\n    <>\r\n      <Container\r\n        className=\"center\"\r\n        fluid=\"md\"\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          marginTop: \"20%\",\r\n        }}\r\n      >\r\n        <head>\r\n          <title>Spaced Flashcards Project - OSU Winter Hackathon 2020</title>\r\n        </head>\r\n        <h1>Spaced Flashcards</h1>\r\n\r\n        <Card\r\n          style={{\r\n            width: \"50%\",\r\n            flex: \"1\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n          <Card.Body>\r\n            <Card.Title>A Proven System</Card.Title>\r\n            <Card.Text>\r\n              Research shows that spaced repetition is an extremely effective\r\n              strategy for memory retention and learning. What topic would you\r\n              like to know more completely?\r\n            </Card.Text>\r\n            <Button style={{ marginRight: \"25px\" }} variant=\"primary\">\r\n              Login\r\n            </Button>\r\n            <Button variant=\"primary\">Register in Seconds</Button>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LandingPage;\r\n","import { BehaviorSubject } from \"rxjs\";\r\n\r\nconst currentUserSubject = new BehaviorSubject(\r\n  JSON.parse(localStorage.getItem(\"currentUser\"))\r\n);\r\n\r\n/* methods provided by the authentication service */\r\nexport const authService = {\r\n  login,\r\n  logout,\r\n  authHeader,\r\n  newUser,\r\n  updateUserData,\r\n  currentUser: currentUserSubject.asObservable(),\r\n  get currentUserValue() {\r\n    return currentUserSubject.value;\r\n  },\r\n};\r\n\r\n/* store userData in local storage and update authentication state by\r\n * pushing to the observable */\r\nasync function login(userData) {\r\n  localStorage.setItem(\"currentUser\", JSON.stringify(userData));\r\n  currentUserSubject.next(userData);\r\n}\r\n\r\n/* log user out: clear localStorage and push null to observable */\r\nfunction logout() {\r\n  localStorage.clear();\r\n  currentUserSubject.next(null);\r\n}\r\n\r\n/* re-authenticate user (refresh jwt) */\r\n/* TODO */\r\nasync function updateUserData() {\r\n  return;\r\n}\r\n\r\n/* if new user has registered, logs them in and sets state */\r\nfunction newUser(res) {\r\n  if (!res.refresh || !res.access) {\r\n    /* should not be possible */\r\n    return logout();\r\n  }\r\n  localStorage.setItem(\"currentUser\", JSON.stringify(res));\r\n  currentUserSubject.next(res);\r\n}\r\n\r\n/* returns HTTP authorization header containing JWT of currently logged-in\r\n * user, otherwise empty object if user not logged in */\r\nasync function authHeader() {\r\n  const currentUser = authService.currentUserValue;\r\n  if (currentUser && currentUser.accessToken) {\r\n    return {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `JWT ${currentUser.accessToken}`,\r\n    };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\r\nimport { useLocation } from \"react-router\";\r\nimport { authService } from \"./auth-service\";\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nexport default function NavBar() {\r\n  const history = useHistory();\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const subscription = authService.currentUser.subscribe((user) =>\r\n      setCurrentUser(user)\r\n    );\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, [currentUser]);\r\n\r\n  function logoutHelper() {\r\n    authService.logout();\r\n    history.push(\"/\");\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar bg=\"light\" expand=\"lg\">\r\n        <Navbar.Brand href=\"/\">Spaced Flashcards</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav variant=\"pills\" className=\"mr-auto\">\r\n            <Nav.Link eventKey=\"1\" href=\"/decks\">\r\n              My Decks\r\n            </Nav.Link>\r\n            <Nav.Link eventKey=\"2\" href=\"/search\">\r\n              Search Decks\r\n            </Nav.Link>\r\n          </Nav>\r\n          {!currentUser ? (\r\n            <Nav variant=\"pills\">\r\n              <Nav.Link eventKey=\"3\" href=\"/login\">\r\n                Login\r\n              </Nav.Link>\r\n              <Nav.Link eventKey=\"4\" href=\"/register\">\r\n                Register\r\n              </Nav.Link>\r\n            </Nav>\r\n          ) : (\r\n            <>\r\n              <p>{`welcome back, ${currentUser.userData.username}`}</p>\r\n              <Button onClick={logoutHelper}>Logout!</Button>\r\n            </>\r\n          )}\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    </>\r\n  );\r\n}\r\n","import { authService } from \"./auth-service\";\r\n\r\n/* general configurable helper function to send POST requests to the server */\r\nexport async function fetchCall(payload) {\r\n    let response = await fetch(payload.url, {\r\n      method: payload.method,\r\n      headers: payload.auth\r\n        ? await authService.authHeader()\r\n        : { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payload.body),\r\n    });\r\n    if (response.status >= 400) {\r\n        /* TODO: error handle */\r\n    } else {\r\n      return await response.json();\r\n    }\r\n  }","import React from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { fetchCall } from \"./helpers\";\r\nimport { authService } from \"./auth-service\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Register() {\r\n  const history = useHistory();\r\n  const requiredMsg = \"This field is required!!\";\r\n  const initialValues = {\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  };\r\n\r\n  async function handleSubmit(fields) {\r\n    console.log(fields);\r\n    alert(`submit registration data to backend: ${JSON.stringify(fields)}`);\r\n    const { email, username, password } = fields;\r\n    let payload = {\r\n      url: process.env.REACT_APP_BASE_URL + \"auth/users/\",\r\n      method: \"POST\",\r\n      auth: false,\r\n      body: {\r\n        username: username,\r\n        email: email,\r\n        password: password,\r\n      },\r\n    };\r\n    let response = await fetchCall(payload);\r\n    console.log(\r\n      `response to register user call is: ${JSON.stringify(response)}`\r\n    );\r\n\r\n    /* now that user has been created, get the jwt */\r\n    payload.url = process.env.REACT_APP_BASE_URL + \"auth/jwt/create/\";\r\n    let jwtresponse = await fetchCall(payload);\r\n    jwtresponse.userData = { username, email };\r\n    console.log(`response to jwt call is: ${JSON.stringify(jwtresponse)}`);\r\n    authService.newUser(jwtresponse);\r\n    history.push(\"/profile\");\r\n\r\n    return;\r\n  }\r\n\r\n  console.log(`the base url is: ${process.env.REACT_APP_BASE_URL}`);\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"text-center\">\r\n        <Card.Body>\r\n          <Card.Header style={{ fontSize: \"32px\" }}>Register</Card.Header>\r\n          <Card.Subtitle\r\n            className=\"mb-2 text-muted\"\r\n            style={{ marginTop: \"10px\" }}\r\n          >\r\n            Begin learning today by creating an account and joining the Spaced\r\n            Flashcards community! Just give us some basic information...\r\n          </Card.Subtitle>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={Yup.object().shape({\r\n              email: Yup.string()\r\n                .email(\"Email is invalid!!\")\r\n                .required(requiredMsg),\r\n              username: Yup.string().required(requiredMsg),\r\n              password: Yup.string()\r\n                .min(6, \"Password must be at least 6 characters!!\")\r\n                .required(requiredMsg),\r\n              confirmPassword: Yup.string()\r\n                .oneOf([Yup.ref(\"password\"), null], \"Passwords don't match!!\")\r\n                .required(requiredMsg),\r\n            })}\r\n            onSubmit={(fields) => {\r\n              handleSubmit(fields);\r\n            }}\r\n            render={({ errors, touched }) => (\r\n              <Form>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\">Email</label>\r\n                  <Field\r\n                    name=\"email\"\r\n                    type=\"text\"\r\n                    className={\r\n                      \"form-control\" +\r\n                      (errors.email && touched.email ? \" is-invalid\" : \"\")\r\n                    }\r\n                  />\r\n                  <ErrorMessage\r\n                    name=\"email\"\r\n                    component=\"div\"\r\n                    className=\"invalid-feedback\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"username\">Username (email)</label>\r\n                  <Field\r\n                    name=\"username\"\r\n                    type=\"text\"\r\n                    className={\r\n                      \"form-control\" +\r\n                      (errors.username && touched.username ? \" is-invalid\" : \"\")\r\n                    }\r\n                  />\r\n                  <ErrorMessage\r\n                    name=\"username\"\r\n                    component=\"div\"\r\n                    className=\"invalid-feedback\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <Field\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    className={\r\n                      \"form-control\" +\r\n                      (errors.password && touched.password ? \" is-invalid\" : \"\")\r\n                    }\r\n                  />\r\n                  <ErrorMessage\r\n                    name=\"password\"\r\n                    component=\"div\"\r\n                    className=\"invalid-feedback\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                  <Field\r\n                    name=\"confirmPassword\"\r\n                    type=\"password\"\r\n                    className={\r\n                      \"form-control\" +\r\n                      (errors.confirmPassword && touched.confirmPassword\r\n                        ? \" is-invalid\"\r\n                        : \"\")\r\n                    }\r\n                  />\r\n                  <ErrorMessage\r\n                    name=\"confirmPassword\"\r\n                    component=\"div\"\r\n                    className=\"invalid-feedback\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <button type=\"submit\" className=\"btn btn-primary mr-2\">\r\n                    Register\r\n                  </button>\r\n                  <button type=\"reset\" className=\"btn btn-secondary\">\r\n                    Reset\r\n                  </button>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          />\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { fetchCall } from \"./helpers\";\r\nimport { authService } from \"./auth-service\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function Login() {\r\n  const history = useHistory();\r\n  const requiredMsg = \"This field is required!!\";\r\n  const initialValues = {\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  async function handleSubmit(fields) {\r\n    console.log(fields);\r\n    alert(`submit login data to backend: ${JSON.stringify(fields)}`);\r\n    const { username, password } = fields;\r\n    let payload = {\r\n      url: process.env.REACT_APP_BASE_URL + \"auth/jwt/create/\",\r\n      method: \"POST\",\r\n      auth: false,\r\n      body: {\r\n        username: username,\r\n        password: password,\r\n      },\r\n    };\r\n    try {\r\n      let response = await fetchCall(payload);\r\n      response.userData = { username };\r\n      console.log(`response to login call is ${JSON.stringify(response)}`);\r\n      authService.login(response);\r\n      history.push(\"/profile\");\r\n      return;\r\n    } catch (err) {\r\n      /* todo: error handling */\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"text-center\">\r\n        <Card.Body>\r\n          <Card.Header style={{ fontSize: \"32px\" }}>Login</Card.Header>\r\n          <Card.Subtitle\r\n            className=\"mb-2 text-muted\"\r\n            style={{ marginTop: \"10px\" }}\r\n          >\r\n            Login to access your decks and reinfornce your knowledge\r\n          </Card.Subtitle>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={Yup.object().shape({\r\n              username: Yup.string().required(requiredMsg),\r\n              password: Yup.string()\r\n                .min(6, \"Password must be at least 6 characters!!\")\r\n                .required(requiredMsg),\r\n            })}\r\n            onSubmit={(fields) => {\r\n              handleSubmit(fields);\r\n            }}\r\n            render={({ errors, touched }) => (\r\n              <Form>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"username\">Username (email)</label>\r\n                  <Field\r\n                    name=\"username\"\r\n                    type=\"text\"\r\n                    className={\r\n                      \"form-control\" +\r\n                      (errors.username && touched.username ? \" is-invalid\" : \"\")\r\n                    }\r\n                  />\r\n                  <ErrorMessage\r\n                    name=\"username\"\r\n                    component=\"div\"\r\n                    className=\"invalid-feedback\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <Field\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    className={\r\n                      \"form-control\" +\r\n                      (errors.password && touched.password ? \" is-invalid\" : \"\")\r\n                    }\r\n                  />\r\n                  <ErrorMessage\r\n                    name=\"password\"\r\n                    component=\"div\"\r\n                    className=\"invalid-feedback\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <button type=\"submit\" className=\"btn btn-primary mr-2\">\r\n                    Login\r\n                  </button>\r\n                  <button type=\"reset\" className=\"btn btn-secondary\">\r\n                    Reset\r\n                  </button>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          />\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { authService } from \"./auth-service\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { fetchCall } from \"./helpers\";\r\n\r\n/* TODO: this needs to refresh the jwt token */\r\nconst PrivateRoute = (props) => {\r\n  const authenticated =\r\n    !localStorage.getItem(\"currentUser\") || !authService.currentUserValue\r\n      ? false\r\n      : !(\r\n          new Date(\r\n            1000 * jwt_decode(authService.currentUserValue.refresh).exp\r\n          ) > new Date()\r\n        )\r\n      ? false\r\n      : true;\r\n  if (!authenticated) {\r\n    console.log(\"trying to log this guy out\");\r\n    authService.logout();\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n  /* refresh the token */\r\n  /* get the localstorage data */\r\n  let payload = {\r\n    url: process.env.REACT_APP_BASE_URL + \"auth/jwt/refresh/\",\r\n    method: \"POST\",\r\n    auth: false,\r\n    body: {\r\n      refresh: authService.currentUserValue.refresh,\r\n    },\r\n  };\r\n  fetchCall(payload).then((response) => {\r\n    let local = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n    local.access = response.access;\r\n    localStorage.setItem(\"currentUser\", JSON.stringify(local));\r\n  });\r\n\r\n  return authenticated ? (\r\n    <Route path={props.path} exact={props.exact}>\r\n      <props.component {...props} />\r\n    </Route>\r\n  ) : (\r\n    <Redirect to=\"/login\" />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\n\r\nexport default function Profile() {\r\n    return(\r\n        <>\r\n        <h1>profile page... protected!</h1>\r\n        </>\r\n    )\r\n}","import React, { useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport ReactCardFlip from \"react-card-flip\";\r\n\r\nexport default function CardDisplay(props) {\r\n  const [isFlipped, setIsFlipped] = useState(false);\r\n\r\n  function handleClick(event) {\r\n    event.preventDefault();\r\n    setIsFlipped(!isFlipped);\r\n  }\r\n\r\n  return (\r\n    <ReactCardFlip isFlipped={isFlipped} flipDirection=\"vertical\">\r\n      <a style={{ cursor: \"pointer\" }} onClick={handleClick}>\r\n        <Card>\r\n          <Card.Body\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              height: \"420px\",\r\n            }}\r\n          >\r\n            <Card.Text style={{ flex: \"1\" }}>Question!!!!!</Card.Text>\r\n          </Card.Body>\r\n        </Card>\r\n      </a>\r\n      <a style={{ cursor: \"pointer\" }} onClick={handleClick}>\r\n        <Card>\r\n          <Card.Body\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              height: \"420px\",\r\n            }}\r\n          >\r\n            <Card.Text style={{ flex: \"1\" }}>Answer!!!</Card.Text>\r\n          </Card.Body>\r\n        </Card>\r\n      </a>\r\n    </ReactCardFlip>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport LandingPage from \"./components/landing\";\r\nimport NavBar from \"./components/navbar\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Register from \"./components/register\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Login from \"./components/login\";\r\nimport { authService } from \"./components/auth-service\";\r\nimport PrivateRoute from \"./components/protected-route\";\r\nimport Profile from \"./components/profile\";\r\nimport CardDisplay from \"./components/card-display\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={3000}\r\n        hideProgressBar\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss={false}\r\n        draggable\r\n        pauseOnHover\r\n      />\r\n      <Router>\r\n        <NavBar />\r\n        <Container\r\n          className=\"center\"\r\n          fluid=\"md\"\r\n          style={{ textAlign: \"center\", marginTop: \"10%\" }}\r\n        >\r\n          <Switch>\r\n            <Route exact path=\"/\" component={LandingPage} />\r\n            <Route exact path=\"/register\" component={Register} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/card\" component={CardDisplay} />\r\n            <PrivateRoute exact path=\"/profile\" component={Profile} />\r\n          </Switch>\r\n        </Container>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}