(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var r=n(1),a=(n(102),n(0)),s=n.n(a),c=n(25),i=n.n(c),o=(n(106),n(107),n(219)),l=n(226),u=n(220);var d=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(o.a,{className:"center",fluid:"md",style:{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20%"},children:[Object(r.jsx)("head",{children:Object(r.jsx)("title",{children:"Spaced Flashcards Project - OSU Winter Hackathon 2020"})}),Object(r.jsx)("h1",{children:"Spaced Flashcards"}),Object(r.jsx)(l.a,{style:{width:"50%",flex:"1",marginLeft:"auto",marginRight:"auto"},children:Object(r.jsxs)(l.a.Body,{children:[Object(r.jsx)(l.a.Title,{children:"A Proven System"}),Object(r.jsx)(l.a.Text,{children:"Research shows that spaced repetition is an extremely effective strategy for memory retention and learning. What topic would you like to know more completely?"}),Object(r.jsx)(u.a,{style:{marginRight:"25px"},variant:"primary",children:"Login"}),Object(r.jsx)(u.a,{variant:"primary",children:"Register in Seconds"})]})})]})})},j=n(13),b=n(224),m=n(225),h=n(6),p=n(10),x=n.n(p),O=n(17),f=new(n(223).a)(JSON.parse(localStorage.getItem("currentUser"))),g={login:function(e){return y.apply(this,arguments)},logout:v,authHeader:function(){return k.apply(this,arguments)},newUser:function(e){if(!e.refresh||!e.access)return v();localStorage.setItem("currentUser",JSON.stringify(e)),f.next(e)},updateUserData:function(){return w.apply(this,arguments)},currentUser:f.asObservable(),get currentUserValue(){return f.value}};function y(){return(y=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("currentUser",JSON.stringify(t)),f.next(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){localStorage.clear(),f.next(null)}function w(){return(w=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(O.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=g.currentUserValue)||!t.accessToken){e.next=5;break}return e.abrupt("return",{"Content-Type":"application/json",Authorization:"JWT ".concat(t.accessToken)});case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){var e=Object(h.g)(),t=Object(a.useState)(null),n=Object(j.a)(t,2),s=n[0],c=n[1];Object(h.h)();return Object(a.useEffect)((function(){var e=g.currentUser.subscribe((function(e){return c(e)}));return function(){e.unsubscribe()}}),[s]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(b.a,{bg:"light",expand:"lg",children:[Object(r.jsx)(b.a.Brand,{href:"/",children:"Spaced Flashcards"}),Object(r.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(b.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsxs)(m.a,{variant:"pills",className:"mr-auto",children:[Object(r.jsx)(m.a.Link,{eventKey:"1",href:"/decks",children:"My Decks"}),Object(r.jsx)(m.a.Link,{eventKey:"2",href:"/search",children:"Search Decks"})]}),s?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:"welcome back, ".concat(s.userData.username)}),Object(r.jsx)(u.a,{onClick:function(){g.logout(),e.push("/")},children:"Logout!"})]}):Object(r.jsxs)(m.a,{variant:"pills",children:[Object(r.jsx)(m.a.Link,{eventKey:"3",href:"/login",children:"Login"}),Object(r.jsx)(m.a.Link,{eventKey:"4",href:"/register",children:"Register"})]})]})]})})}var S=n(31),F=n(8),C=n(15);function P(e){return T.apply(this,arguments)}function T(){return(T=Object(O.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=fetch,e.t1=t.url,e.t2=t.method,!t.auth){e.next=9;break}return e.next=6,g.authHeader();case 6:e.t3=e.sent,e.next=10;break;case 9:e.t3={"Content-Type":"application/json"};case 10:return e.t4=e.t3,e.t5=JSON.stringify(t.body),e.t6={method:e.t2,headers:e.t4,body:e.t5},e.next=15,(0,e.t0)(e.t1,e.t6);case 15:if(!((n=e.sent).status>=400)){e.next=19;break}e.next=22;break;case 19:return e.next=21,n.json();case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){var e=Object(h.g)(),t="This field is required!!";function n(){return(n=Object(O.a)(x.a.mark((function t(n){var r,a,s,c,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),alert("submit registration data to backend: ".concat(JSON.stringify(n))),r=n.email,a=n.username,s=n.password,c={url:"/auth/users/",method:"POST",auth:!1,body:{username:a,email:r,password:s}},t.next=6,P(c);case 6:return i=t.sent,console.log("response to register user call is: ".concat(JSON.stringify(i))),c.url="/auth/jwt/create/",t.next=11,P(c);case 11:return(o=t.sent).userData={username:a,email:r},console.log("response to jwt call is: ".concat(JSON.stringify(o))),g.newUser(o),e.push("/profile"),t.abrupt("return");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return console.log("the base url is: ".concat("/")),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(l.a,{className:"text-center",children:Object(r.jsxs)(l.a.Body,{children:[Object(r.jsx)(l.a.Header,{style:{fontSize:"32px"},children:"Register"}),Object(r.jsx)(l.a.Subtitle,{className:"mb-2 text-muted",style:{marginTop:"10px"},children:"Begin learning today by creating an account and joining the Spaced Flashcards community! Just give us some basic information..."}),Object(r.jsx)(F.d,{initialValues:{email:"",username:"",password:"",confirmPassword:""},validationSchema:C.a().shape({email:C.c().email("Email is invalid!!").required(t),username:C.c().required(t),password:C.c().min(6,"Password must be at least 6 characters!!").required(t),confirmPassword:C.c().oneOf([C.b("password"),null],"Passwords don't match!!").required(t)}),onSubmit:function(e){!function(e){n.apply(this,arguments)}(e)},render:function(e){var t=e.errors,n=e.touched;return Object(r.jsxs)(F.c,{children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"email",children:"Email"}),Object(r.jsx)(F.b,{name:"email",type:"text",className:"form-control"+(t.email&&n.email?" is-invalid":"")}),Object(r.jsx)(F.a,{name:"email",component:"div",className:"invalid-feedback"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"username",children:"Username (email)"}),Object(r.jsx)(F.b,{name:"username",type:"text",className:"form-control"+(t.username&&n.username?" is-invalid":"")}),Object(r.jsx)(F.a,{name:"username",component:"div",className:"invalid-feedback"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)(F.b,{name:"password",type:"password",className:"form-control"+(t.password&&n.password?" is-invalid":"")}),Object(r.jsx)(F.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(r.jsx)(F.b,{name:"confirmPassword",type:"password",className:"form-control"+(t.confirmPassword&&n.confirmPassword?" is-invalid":"")}),Object(r.jsx)(F.a,{name:"confirmPassword",component:"div",className:"invalid-feedback"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("button",{type:"submit",className:"btn btn-primary mr-2",children:"Register"}),Object(r.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"Reset"})]})]})}})]})})})}var q=n(45);n(214);function J(){var e=Object(h.g)(),t="This field is required!!";function n(){return(n=Object(O.a)(x.a.mark((function t(n){var r,a,s,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),alert("submit login data to backend: ".concat(JSON.stringify(n))),r=n.username,a=n.password,s={url:"/auth/jwt/create/",method:"POST",auth:!1,body:{username:r,password:a}},t.prev=4,t.next=7,P(s);case 7:return(c=t.sent).userData={username:r},console.log("response to login call is ".concat(JSON.stringify(c))),g.login(c),e.push("/profile"),t.abrupt("return");case 15:t.prev=15,t.t0=t.catch(4),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,15]])})))).apply(this,arguments)}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(l.a,{className:"text-center",children:Object(r.jsxs)(l.a.Body,{children:[Object(r.jsx)(l.a.Header,{style:{fontSize:"32px"},children:"Login"}),Object(r.jsx)(l.a.Subtitle,{className:"mb-2 text-muted",style:{marginTop:"10px"},children:"Login to access your decks and reinfornce your knowledge"}),Object(r.jsx)(F.d,{initialValues:{username:"",password:""},validationSchema:C.a().shape({username:C.c().required(t),password:C.c().min(6,"Password must be at least 6 characters!!").required(t)}),onSubmit:function(e){!function(e){n.apply(this,arguments)}(e)},render:function(e){var t=e.errors,n=e.touched;return Object(r.jsxs)(F.c,{children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"username",children:"Username (email)"}),Object(r.jsx)(F.b,{name:"username",type:"text",className:"form-control"+(t.username&&n.username?" is-invalid":"")}),Object(r.jsx)(F.a,{name:"username",component:"div",className:"invalid-feedback"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{htmlFor:"password",children:"Password"}),Object(r.jsx)(F.b,{name:"password",type:"password",className:"form-control"+(t.password&&n.password?" is-invalid":"")}),Object(r.jsx)(F.a,{name:"password",component:"div",className:"invalid-feedback"})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("button",{type:"submit",className:"btn btn-primary mr-2",children:"Login"}),Object(r.jsx)("button",{type:"reset",className:"btn btn-secondary",children:"Reset"})]})]})}})]})})})}var D=n(99),L=n(97),I=function(e){var t=!(!localStorage.getItem("currentUser")||!g.currentUserValue)&&new Date(1e3*Object(L.a)(g.currentUserValue.refresh).exp)>new Date;return t?(P({url:"/auth/jwt/refresh/",method:"POST",auth:!1,body:{refresh:g.currentUserValue.refresh}}).then((function(e){var t=JSON.parse(localStorage.getItem("currentUser"));t.access=e.access,localStorage.setItem("currentUser",JSON.stringify(t))})),t?Object(r.jsx)(h.b,{path:e.path,exact:e.exact,children:Object(r.jsx)(e.component,Object(D.a)({},e))}):Object(r.jsx)(h.a,{to:"/login"})):(console.log("trying to log this guy out"),g.logout(),Object(r.jsx)(h.a,{to:"/login"}))};function B(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("h1",{children:"profile page... protected!"})})}var R=n(98),H=n.n(R),V=n(221),E=n(222);function M(e){function t(t){e.handleRate(t)}return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(o.a,{children:Object(r.jsxs)(V.a,{children:[Object(r.jsx)(E.a,{children:Object(r.jsx)(u.a,{variant:"success",onClick:function(){t("easy")},children:"Easy - 7 Days"})}),Object(r.jsx)(E.a,{children:Object(r.jsx)(u.a,{variant:"warning",onClick:function(){t("medium")},children:"Medium - 7 Hours"})}),Object(r.jsx)(E.a,{children:Object(r.jsx)(u.a,{variant:"danger",onClick:function(){t("hard")},children:"Hard -  7 Minutes"})})]})})})}function K(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),s=n[0],c=n[1],i=Object(a.useState)(""),o=Object(j.a)(i,2),u=(o[0],o[1]);function d(e){e.preventDefault(),c(!s)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(H.a,{isFlipped:s,flipDirection:"vertical",children:[Object(r.jsx)("a",{style:{cursor:"pointer"},onClick:function(e){d(e)},children:Object(r.jsx)(l.a,{children:Object(r.jsx)(l.a.Body,{style:{display:"flex",alignItems:"center",height:"420px"},children:Object(r.jsx)(l.a.Text,{style:{flex:"1"},children:e.question})})})}),Object(r.jsx)("a",{style:{cursor:"pointer"},onClick:function(e){d(e)},children:Object(r.jsx)(l.a,{children:Object(r.jsx)(l.a.Body,{style:{display:"flex",alignItems:"center",height:"420px"},children:Object(r.jsx)(l.a.Text,{style:{flex:"1"},children:e.answer})})})})]}),s&&Object(r.jsx)(M,{handleRate:function(t){u(t),c(!1),e.nextCard()}})]})}function z(e){var t=e.numCards,n=e.cardIndex;return Object(r.jsx)("h5",{children:"Flashcard ".concat(n+1," of ").concat(t)})}var A=[{question:"2+2=",answer:"4"},{question:"2+3=",answer:"5"},{question:"2+4=",answer:"6"},{question:"2+5=",answer:"7"},{question:"2+6=",answer:"8"},{question:"2+7=",answer:"9"},{question:"2+8=",answer:"10"}];function W(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=t[0],s=t[1];return Object(r.jsx)(r.Fragment,{children:-1!==n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(z,{numCards:A.length,cardIndex:n}),Object(r.jsx)(K,{index:n,question:A[n].question,answer:A[n].answer,nextCard:function(){console.log("i'm calling nextcard"),s(n!==A.length-1?n+1:-1)}})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h5",{children:"Nice work!"}),Object(r.jsx)(u.a,{onClick:function(){},children:"Back to My Decks"})]})})}var G=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q.a,{position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0}),Object(r.jsxs)(S.a,{children:[Object(r.jsx)(N,{}),Object(r.jsx)(o.a,{className:"center",fluid:"md",style:{textAlign:"center",marginTop:"10%"},children:Object(r.jsxs)(h.d,{children:[Object(r.jsx)(h.b,{exact:!0,path:"/",component:d}),Object(r.jsx)(h.b,{exact:!0,path:"/register",component:U}),Object(r.jsx)(h.b,{exact:!0,path:"/login",component:J}),Object(r.jsx)(h.b,{exact:!0,path:"/card",component:K}),Object(r.jsx)(h.b,{exact:!0,path:"/rundeck",component:W}),Object(r.jsx)(I,{exact:!0,path:"/profile",component:B})]})})]})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,227)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(G,{})}),document.getElementById("root")),Q()}},[[215,1,2]]]);
//# sourceMappingURL=main.1ef9e082.chunk.js.map